<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Shapna ðŸŒ¹</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@300;600&display=swap" rel="stylesheet">
    <style>
        /* --- GLOBAL STYLES --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            background-color: #050505;
            color: #fff;
            font-family: 'Montserrat', sans-serif;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* --- STAGE 1: THE WATERING GAME --- */
        #bloom-stage {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: radial-gradient(circle at center, #1a000d 0%, #050505 80%);
            transition: opacity 1s ease;
        }

        .instruction-tag {
            background: rgba(255, 0, 79, 0.1);
            color: #ff004f;
            padding: 8px 15px;
            border-radius: 50px;
            border: 1px solid #ff004f;
            font-size: 0.75rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            margin-bottom: 30px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }

        .rose-container {
            cursor: pointer;
            transition: transform 0.2s;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        #main-rose-img {
            width: 80px;
            filter: grayscale(100%) brightness(30%);
            transition: all 0.4s ease;
        }

        .status-text {
            margin-top: 25px;
            font-family: 'Dancing Script', cursive;
            font-size: 1.8rem;
            color: #888;
        }

        .enter-garden-btn {
            display: none;
            margin-top: 25px;
            padding: 15px 35px;
            background: #ff004f;
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(255, 0, 79, 0.5);
            animation: fadeIn 1s ease;
        }

        /* --- STAGE 2: THE FLOATING GARDEN --- */
        #garden-stage {
            display: none;
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #050505;
            opacity: 0;
            transition: opacity 1.5s ease;
        }

        .floating-rose {
            position: absolute;
            width: 60px;
            cursor: pointer;
            animation: floatAnim infinite ease-in-out;
            filter: drop-shadow(0 0 10px rgba(255, 0, 80, 0.5));
            user-select: none;
        }

        @keyframes floatAnim {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(10deg); }
        }

        /* --- MESSAGE POPUP --- */
        #popup-modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(8px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .message-card {
            background: #111;
            padding: 40px;
            border-radius: 20px;
            border: 1px solid #ff004f;
            text-align: center;
            width: 85%;
            max-width: 380px;
            box-shadow: 0 0 40px rgba(255, 0, 79, 0.3);
            animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        #modal-text {
            font-family: 'Dancing Script', cursive;
            font-size: 1.8rem;
            color: #fff;
            line-height: 1.4;
        }

        .close-hint {
            margin-top: 25px;
            font-size: 0.7rem;
            color: #ff004f;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        /* --- UTILITY ANIMATIONS --- */
        .shake-effect { animation: shake 0.3s ease; }
        @keyframes shake {
            0% { transform: scale(1); }
            50% { transform: scale(1.1) rotate(5deg); }
            100% { transform: scale(1); }
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

    </style>
</head>
<body>

    <div id="bloom-stage">
        <div class="instruction-tag" id="top-hint"> Tap the rose to water it</div>
        
        <div class="rose-container" onclick="handleTap()">
            <img src="https://cdn.jsdelivr.net/npm/emoji-datasource-apple@14.0.0/img/apple/64/1f339.png" id="main-rose-img">
        </div>

        <div class="status-text" id="status-label">The rose is thirsty...</div>
        
        <button class="enter-garden-btn" id="garden-btn" onclick="revealGarden()">Enter Garden</button>
    </div>

    <div id="garden-stage">
        <h2 style="position: absolute; top: 20px; width: 100%; text-align: center; color: #333; font-size: 0.8rem; letter-spacing: 3px; z-index: 1;">
            TAP ANY FLOATING ROSE, SHAPNA
        </h2>
    </div>

    <div id="popup-modal" onclick="this.style.display='none'">
        <div class="message-card">
            <p id="modal-text"></p>
            <p class="close-hint">Tap anywhere to close <br>& try another Rose</p>
        </div>
    </div>

    <script>
        // --- GAME LOGIC ---
        let tapCount = 0;
        const requiredTaps = 10;
        const roseImg = document.getElementById('main-rose-img');
        const statusLabel = document.getElementById('status-label');
        const gardenBtn = document.getElementById('garden-btn');

        // --- MESSAGES FOR THE GARDEN ---
        const sweetMessages = [
            "Happy Rose Day, Shapna! ðŸŒ¹",
            "You are the most beautiful flower in my world.",
            "Bitto's heart belongs to you only.",
            "My love for you grows more than these roses.",
            "You make every dark day shine bright.",
            "Sending you a million virtual roses! ðŸŒ¹â¤ï¸",
            "You're the fragrance in my life's garden.",
            "Just like a rose, you are precious and rare.",
            "I'm so lucky to have you by my side.",
            "Will you be my forever Rose?"
        ];

        function handleTap() {
            if (tapCount >= requiredTaps) return;

            tapCount++;
            
            // 1. Visual progression (Bloom Logic)
            let progress = (tapCount / requiredTaps) * 100;
            let currentGrayscale = 100 - progress;
            let currentBrightness = 30 + (progress * 0.7);
            let currentSize = 80 + (tapCount * 5); // Grows from 80px to 130px

            roseImg.style.filter = `grayscale(${currentGrayscale}%) brightness(${currentBrightness}%)`;
            roseImg.style.width = currentSize + 'px';
            
            // 2. Shake animation
            roseImg.classList.add('shake-effect');
            setTimeout(() => roseImg.classList.remove('shake-effect'), 300);

            // 3. Update Status Text
            if (tapCount < 4) {
                statusLabel.innerText = "Giving it some water...";
            } else if (tapCount < 8) {
                statusLabel.innerText = "Look! It's starting to bloom!";
                statusLabel.style.color = "#ff4d88";
            } else if (tapCount < requiredTaps) {
                statusLabel.innerText = "Almost ready, Shapna...";
            } else {
                // BLOOM COMPLETE
                statusLabel.innerText = "It bloomed for you! â¤ï¸ There's a garden full of roses waiting for you to tell you something Shapna";
                statusLabel.style.color = "#ff004f";
                gardenBtn.style.display = 'block';
                document.getElementById('top-hint').style.display = 'none';
            }
        }

        function revealGarden() {
            const bloomStage = document.getElementById('bloom-stage');
            const gardenStage = document.getElementById('garden-stage');

            bloomStage.style.opacity = '0';
            setTimeout(() => {
                bloomStage.style.display = 'none';
                gardenStage.style.display = 'block';
                setTimeout(() => gardenStage.style.opacity = '1', 50);
                spawnGardenRoses(15); // Creates 15 floating roses
            }, 1000);
        }

        function spawnGardenRoses(count) {
            const garden = document.getElementById('garden-stage');
            const roseSrc = "https://cdn.jsdelivr.net/npm/emoji-datasource-apple@14.0.0/img/apple/64/1f339.png";
            
            for (let i = 0; i < count; i++) {
                const rose = document.createElement('img');
                rose.src = roseSrc;
                rose.className = 'floating-rose';
                
                // Random position
                rose.style.left = Math.random() * 85 + 5 + "%";
                rose.style.top = Math.random() * 80 + 10 + "%";
                
                // Random float speed
                rose.style.animationDuration = (Math.random() * 3 + 3) + "s";
                rose.style.animationDelay = Math.random() * 2 + "s";

                // Click to see message
                rose.onclick = function() {
                    const randomMsg = sweetMessages[Math.floor(Math.random() * sweetMessages.length)];
                    document.getElementById('modal-text').innerText = randomMsg;
                    document.getElementById('popup-modal').style.display = 'flex';
                };

                garden.appendChild(rose);
            }
        }
    </script>
</body>
</html>
